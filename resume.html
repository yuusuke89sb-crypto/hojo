<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å±¥æ­´æ›¸ | ğ ®·æ‘è¡Œæ”¿æ›¸å£«äº‹å‹™æ‰€</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;600&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Serif JP', serif;
            color: #1a1a1a;
            background: #e8e8e8;
            line-height: 1.6;
            font-size: 13px;
        }

        /* ===== Auto-fill Banner ===== */
        .autofill-banner {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 12px 24px;
            text-align: center;
            font-family: 'Noto Sans JP', sans-serif;
            font-size: 14px;
            font-weight: 500;
            z-index: 1001;
            box-shadow: 0 2px 12px rgba(39, 174, 96, 0.3);
            display: none;
            animation: slideDown 0.4s ease;
        }

        .autofill-banner .close-btn {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            opacity: 0.8;
        }

        .autofill-banner .close-btn:hover {
            opacity: 1;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
            }

            to {
                transform: translateY(0);
            }
        }

        .autofilled {
            background: #e8f8f0 !important;
            transition: background 2s ease;
        }

        /* ===== Toolbar ===== */
        .toolbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #1a5276, #2980b9);
            padding: 12px 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            z-index: 1000;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.2);
        }

        .toolbar-text {
            color: rgba(255, 255, 255, 0.9);
            font-family: 'Noto Sans JP', sans-serif;
            font-size: 13px;
        }

        .toolbar button {
            padding: 10px 28px;
            background: white;
            color: #1a5276;
            border: none;
            border-radius: 8px;
            font-family: 'Noto Sans JP', sans-serif;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .toolbar button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .toolbar .back-link {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-family: 'Noto Sans JP', sans-serif;
            font-size: 13px;
            padding: 8px 16px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            transition: all 0.2s;
        }

        .toolbar .back-link:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        /* ===== A4 Page ===== */
        .page {
            width: 210mm;
            margin: 20px auto 80px;
            padding: 15mm 18mm;
            background: white;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.15);
        }

        /* ===== Resume Title ===== */
        .resume-title {
            text-align: center;
            font-size: 24px;
            font-weight: 700;
            letter-spacing: 0.5em;
            margin-bottom: 10px;
        }

        .resume-date {
            text-align: right;
            font-size: 12px;
            margin-bottom: 12px;
        }

        /* ===== Tables ===== */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 2px;
        }

        td,
        th {
            border: 1px solid #333;
            padding: 4px 8px;
            text-align: left;
            vertical-align: middle;
            font-weight: normal;
        }

        th {
            background: #f8f9fa;
            font-weight: 500;
            font-size: 12px;
            white-space: nowrap;
            width: 80px;
            text-align: center;
        }

        /* ===== Editable fields ===== */
        .editable {
            min-width: 40px;
            display: inline-block;
            padding: 0 2px;
            color: #2c3e50;
            cursor: text;
        }

        .editable:focus {
            outline: none;
            background: #e8f4fd;
        }

        /* ===== Section headers ===== */
        .section-header-row th {
            background: #e8eef4;
            font-weight: 600;
            font-size: 13px;
            text-align: center;
            letter-spacing: 0.2em;
        }

        /* ===== Identity Section ===== */
        .name-cell {
            font-size: 20px;
            font-weight: 600;
            height: 50px;
            padding: 6px 12px;
        }

        .kana-cell {
            font-size: 11px;
            height: 24px;
            padding: 2px 12px;
            color: #555;
        }

        .photo-cell {
            width: 120px;
            text-align: center;
            font-size: 10px;
            color: #999;
            vertical-align: middle;
        }

        /* ===== Layout ===== */
        .two-col {
            display: flex;
            gap: 0;
        }

        .two-col .col-left {
            flex: 1;
        }

        .two-col .col-right {
            width: 45%;
        }

        .qualification-row td {
            height: 28px;
        }

        .motivation-cell {
            height: 120px;
            vertical-align: top;
            padding: 8px 12px;
            line-height: 1.8;
        }

        .note {
            font-size: 11px;
            color: #666;
            margin-top: 12px;
            padding: 8px;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            background: #fafafa;
        }

        /* ===== Print Styles ===== */
        @media print {
            body {
                background: white;
                font-size: 12px;
            }

            .toolbar {
                display: none;
            }

            .autofill-banner {
                display: none !important;
            }

            .page {
                margin: 0;
                padding: 12mm 15mm;
                box-shadow: none;
                width: 100%;
            }

            @page {
                size: A4;
                margin: 0;
            }
        }

        @media screen and (max-width: 800px) {
            .page {
                width: 100%;
                padding: 10px;
                margin: 10px auto 70px;
            }
        }
    </style>
</head>

<body>

    <!-- ===== Auto-fill Banner ===== -->
    <div class="autofill-banner" id="autofillBanner">
        âœ… ãƒ’ã‚¢ãƒªãƒ³ã‚°ã‚·ãƒ¼ãƒˆã®å…¥åŠ›å†…å®¹ã‚’è‡ªå‹•åæ˜ ã—ã¾ã—ãŸ
        <button class="close-btn" onclick="this.parentElement.style.display='none'">&times;</button>
    </div>

    <!-- ===== Page 1 ===== -->
    <div class="page" id="page1">
        <h1 class="resume-title">å±¥ã€€æ­´ã€€æ›¸</h1>
        <p class="resume-date">
            <span class="editable" contenteditable="true" data-field="resume-date">ä»¤å’Œã€€ã€€å¹´ã€€ã€€æœˆã€€ã€€æ—¥ç¾åœ¨</span>
        </p>

        <!-- æ°åãƒ»åŸºæœ¬æƒ…å ± -->
        <table>
            <tr>
                <th style="width:80px;">ãƒ•ãƒªã‚¬ãƒŠ</th>
                <td class="kana-cell" colspan="3">
                    <span class="editable" contenteditable="true" data-field="resume-kana">ã€€</span>
                </td>
                <td class="photo-cell" rowspan="4" style="width:120px; height:160px;">
                    å†™çœŸã‚’è²¼ã‚‹ä½ç½®<br><br>
                    ç¸¦36ã€œ40mm<br>
                    æ¨ª24ã€œ30mm
                </td>
            </tr>
            <tr>
                <th>æ°ã€€å</th>
                <td class="name-cell" colspan="3">
                    <span class="editable" contenteditable="true" data-field="resume-name">ã€€</span>
                </td>
            </tr>
            <tr>
                <th>ç”Ÿå¹´æœˆæ—¥</th>
                <td colspan="3" style="height:28px;">
                    <span class="editable" contenteditable="true" data-field="resume-birthday">ã€€ã€€ã€€ã€€å¹´ã€€ã€€æœˆã€€ã€€æ—¥ç”Ÿ</span>
                    <span style="margin-left:20px;">ï¼ˆæº€ <span class="editable" contenteditable="true"
                            data-field="resume-age">ã€€</span> æ­³ï¼‰</span>
                    <span style="margin-left:20px;">
                        <span class="editable" contenteditable="true" data-field="resume-gender">ã€€</span>
                    </span>
                </td>
            </tr>
            <tr>
                <th>é›»è©±ç•ªå·</th>
                <td colspan="3" style="height:28px;">
                    <span class="editable" contenteditable="true" data-field="resume-phone">ã€€</span>
                    <span style="margin-left:30px;">E-mailï¼š<span class="editable" contenteditable="true"
                            data-field="resume-email">ã€€</span></span>
                </td>
            </tr>
        </table>

        <table>
            <tr>
                <th style="width:80px;">ãƒ•ãƒªã‚¬ãƒŠ</th>
                <td class="kana-cell" colspan="3">
                    <span class="editable" contenteditable="true" data-field="resume-address-kana">ã€€</span>
                </td>
            </tr>
            <tr>
                <th>ç¾ä½æ‰€</th>
                <td colspan="3" style="height:48px; vertical-align:top; padding:6px 12px;">
                    ã€’<span class="editable" contenteditable="true" data-field="resume-zipcode">ã€€</span><br>
                    <span class="editable" contenteditable="true" data-field="resume-address">ã€€</span>
                </td>
            </tr>
        </table>

        <!-- å­¦æ­´ãƒ»è·æ­´ -->
        <table style="margin-top:6px;">
            <tr class="section-header-row">
                <th colspan="3" style="width:100%;">å­¦æ­´ãƒ»è·æ­´</th>
            </tr>
            <tr>
                <th style="width:80px;">å¹´</th>
                <th style="width:60px;">æœˆ</th>
                <td>å­¦æ­´ãƒ»è·æ­´</td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td><span class="editable" contenteditable="true" data-field="resume-edu-1">ã€€</span></td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td><span class="editable" contenteditable="true">ã€€</span></td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td><span class="editable" contenteditable="true">ã€€</span></td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td><span class="editable" contenteditable="true">ã€€</span></td>
            </tr>
            <tr class="qualification-row">
                <td colspan="3" style="text-align:center; font-size:12px; color:#666;">â”€â”€ è·æ­´ â”€â”€</td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true"
                        data-field="resume-work-year1">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true"
                        data-field="resume-work-month1">ã€€</span></td>
                <td><span class="editable" contenteditable="true" data-field="resume-work-1">ã€€</span></td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td><span class="editable" contenteditable="true" data-field="resume-work-detail">ã€€</span></td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td><span class="editable" contenteditable="true">ã€€</span></td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td><span class="editable" contenteditable="true">ã€€</span></td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td><span class="editable" contenteditable="true">ã€€</span></td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td><span class="editable" contenteditable="true">ã€€</span></td>
            </tr>
        </table>

        <!-- å…è¨±ãƒ»è³‡æ ¼ -->
        <table style="margin-top:6px;">
            <tr class="section-header-row">
                <th colspan="3" style="width:100%;">å…è¨±ãƒ»è³‡æ ¼</th>
            </tr>
            <tr>
                <th style="width:80px;">å¹´</th>
                <th style="width:60px;">æœˆ</th>
                <td>å…è¨±ãƒ»è³‡æ ¼</td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td><span class="editable" contenteditable="true" data-field="resume-license-1">ã€€</span></td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td><span class="editable" contenteditable="true" data-field="resume-license-2">ã€€</span></td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td><span class="editable" contenteditable="true" data-field="resume-license-3">ã€€</span></td>
            </tr>
            <tr class="qualification-row">
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td style="text-align:center;"><span class="editable" contenteditable="true">ã€€</span></td>
                <td><span class="editable" contenteditable="true">ã€€</span></td>
            </tr>
        </table>

        <!-- å¿—æœ›ã®å‹•æ©Ÿã€ã‚¹ã‚­ãƒ«ã€å¸Œæœ›æ¡ä»¶ -->
        <table style="margin-top:6px;">
            <tr>
                <th style="width:120px; text-align:center;">å¿—æœ›ã®å‹•æ©Ÿ<br>ç‰¹æŠ€ãƒ»ã‚¹ã‚­ãƒ«</th>
                <td class="motivation-cell">
                    <span class="editable" contenteditable="true" data-field="resume-motivation"
                        style="display:block; min-height:100px;">ã€€</span>
                </td>
            </tr>
        </table>

        <table style="margin-top:2px;">
            <tr>
                <th style="width:120px; text-align:center;">é€šå‹¤æ™‚é–“</th>
                <td style="width:35%; height:32px;">
                    <span class="editable" contenteditable="true" data-field="resume-commute">ã€€</span>
                </td>
                <th style="width:80px; text-align:center;">æ‰¶é¤Šå®¶æ—</th>
                <td>
                    <span class="editable" contenteditable="true">ã€€</span> äºº
                </td>
            </tr>
            <tr>
                <th style="text-align:center;">å¸Œæœ›å‹¤å‹™æ¡ä»¶</th>
                <td colspan="3" style="height:50px; vertical-align:top; padding:6px 12px;">
                    <span class="editable" contenteditable="true" data-field="resume-conditions"
                        style="display:block; min-height:40px;">ã€€</span>
                </td>
            </tr>
        </table>

        <div class="note">
            â€» æœ¬å±¥æ­´æ›¸ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã®ã€Œå°åˆ·ã€æ©Ÿèƒ½ã‹ã‚‰ã€ŒPDFã¨ã—ã¦ä¿å­˜ã€ã‚’é¸æŠã™ã‚‹ã¨PDFãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ã§ãã¾ã™ã€‚<br>
            â€» å„æ¬„ã¯ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç›´æ¥ç·¨é›†ã§ãã¾ã™ã€‚ãƒ’ã‚¢ãƒªãƒ³ã‚°ã‚·ãƒ¼ãƒˆã®å…¥åŠ›å†…å®¹ãŒè‡ªå‹•åæ˜ ã•ã‚Œã¾ã™ã€‚
        </div>
    </div>

    <!-- ===== Toolbar ===== -->
    <div class="toolbar">
        <a href="index.html" class="back-link">â† ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«æˆ»ã‚‹</a>
        <span class="toolbar-text">å„æ¬„ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›† â†’ å°åˆ·ã§PDFä¿å­˜</span>
        <button onclick="window.print()">ğŸ–¨ï¸ å°åˆ· / PDFä¿å­˜</button>
    </div>

    <script>
        // ===== ãƒ’ã‚¢ãƒªãƒ³ã‚°ã‚·ãƒ¼ãƒˆã‹ã‚‰ã®è‡ªå‹•åæ˜  =====
        document.addEventListener('DOMContentLoaded', function () {
            const HEARING_KEY = 'hojosya_hearing_data';
            let data;

            // URLãƒãƒƒã‚·ãƒ¥ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒªãƒ³ã‚¯ç”¨ï¼‰
            try {
                const hash = window.location.hash.substring(1);
                if (hash) {
                    var binary = atob(hash);
                    var bytes = new Uint8Array(binary.length);
                    for (var i = 0; i < binary.length; i++) {
                        bytes[i] = binary.charCodeAt(i);
                    }
                    var decoded = new TextDecoder('utf-8').decode(bytes);
                    data = JSON.parse(decoded);
                }
            } catch (e) {
                data = null;
            }

            // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: localStorageã‹ã‚‰èª­ã¿è¾¼ã¿
            if (!data) {
                try {
                    const raw = localStorage.getItem(HEARING_KEY);
                    data = raw ? JSON.parse(raw) : null;
                } catch (e) {
                    data = null;
                }
            }

            if (!data) return;

            let filled = false;

            function setField(fieldName, value) {
                if (!value || (typeof value === 'string' && value.trim() === '')) return;
                const el = document.querySelector('[data-field="' + fieldName + '"]');
                if (el) {
                    el.textContent = value;
                    el.classList.add('autofilled');
                    filled = true;
                }
            }

            // ç¾åœ¨æ—¥ä»˜ã‚’è‡ªå‹•å…¥åŠ›
            const now = new Date();
            const reiwaYear = now.getFullYear() - 2018;
            setField('resume-date', 'ä»¤å’Œ' + reiwaYear + 'å¹´' + (now.getMonth() + 1) + 'æœˆ' + now.getDate() + 'æ—¥ç¾åœ¨');

            // æ°åãƒ»ãƒ•ãƒªã‚¬ãƒŠ
            setField('resume-name', data.name);
            setField('resume-kana', data.name_kana);

            // ç”Ÿå¹´æœˆæ—¥ã¨å¹´é½¢è¨ˆç®—
            if (data.birthday) {
                const bd = new Date(data.birthday);
                if (!isNaN(bd.getTime())) {
                    const bYear = bd.getFullYear();
                    const bMonth = bd.getMonth() + 1;
                    const bDay = bd.getDate();

                    // å’Œæš¦å¤‰æ›
                    let era = '';
                    if (bYear >= 2019) {
                        era = 'ä»¤å’Œ' + (bYear - 2018);
                    } else if (bYear >= 1989) {
                        era = 'å¹³æˆ' + (bYear - 1988);
                    } else if (bYear >= 1926) {
                        era = 'æ˜­å’Œ' + (bYear - 1925);
                    }
                    setField('resume-birthday', era + 'å¹´' + bMonth + 'æœˆ' + bDay + 'æ—¥ç”Ÿ');

                    // å¹´é½¢è¨ˆç®—
                    let age = now.getFullYear() - bYear;
                    if (now.getMonth() < bd.getMonth() ||
                        (now.getMonth() === bd.getMonth() && now.getDate() < bd.getDate())) {
                        age--;
                    }
                    setField('resume-age', String(age));
                }
            }

            // æ€§åˆ¥
            setField('resume-gender', data.gender);

            // é›»è©±ç•ªå·ãƒ»ãƒ¡ãƒ¼ãƒ«
            setField('resume-phone', data.phone);
            setField('resume-email', data.email);

            // ä½æ‰€
            setField('resume-address', data.address);

            // è·æ­´
            if (data.prev_office) {
                setField('resume-work-1', data.prev_office + ' å…¥ç¤¾ï¼ˆè£œåŠ©è€…ã¨ã—ã¦å‹¤å‹™ï¼‰');
            }

            // æ¥­å‹™å†…å®¹
            if (data.prev_duties) {
                setField('resume-work-detail', 'æ‹…å½“æ¥­å‹™ï¼š' + data.prev_duties);
            }

            // å…è¨±ãƒ»è³‡æ ¼
            let licenseIndex = 1;
            if (data.driver_license === 'ã‚ã‚Š') {
                setField('resume-license-' + licenseIndex, 'æ™®é€šè‡ªå‹•è»Šç¬¬ä¸€ç¨®é‹è»¢å…è¨± å–å¾—');
                licenseIndex++;
            }
            if (data.other_qualifications) {
                const quals = data.other_qualifications.split(/[ã€,ï¼Œ]/);
                quals.forEach(function (q) {
                    q = q.trim();
                    if (q && licenseIndex <= 3) {
                        setField('resume-license-' + licenseIndex, q);
                        licenseIndex++;
                    }
                });
            }
            if (data.gyosei_plan === 'å–å¾—æ¸ˆã¿') {
                if (licenseIndex <= 3) {
                    setField('resume-license-' + licenseIndex, 'è¡Œæ”¿æ›¸å£«è©¦é¨“ åˆæ ¼');
                }
            }

            // å¿—æœ›ã®å‹•æ©Ÿãƒ»ã‚¹ã‚­ãƒ«
            var motivationParts = [];

            // PCã‚¹ã‚­ãƒ«
            if (data.pc_skills && data.pc_skills.length > 0) {
                motivationParts.push('ã€PCã‚¹ã‚­ãƒ«ã€‘' + data.pc_skills.join('ã€'));
            }

            // è»Šé–¢ä¿‚ã‚¹ã‚­ãƒ«
            if (data.car_skills && data.car_skills.length > 0) {
                motivationParts.push('ã€è»Šé–¢ä¿‚æ¥­å‹™çµŒé¨“ã€‘' + data.car_skills.join('ã€'));
            }

            // è»Šåº«è¨¼æ˜çµŒé¨“
            if (data.shakosho_exp && data.shakosho_exp !== 'ãªã—') {
                motivationParts.push('ã€è»Šåº«è¨¼æ˜ç”³è«‹çµŒé¨“ã€‘' + data.shakosho_exp);
            }

            // ç®¡è½„è¨ªå•çµŒé¨“
            if (data.visited_offices) {
                motivationParts.push('ã€è¨ªå•çµŒé¨“ã€‘' + data.visited_offices);
            }

            if (motivationParts.length > 0) {
                setField('resume-motivation', motivationParts.join('\n'));
            }

            // é€šå‹¤
            setField('resume-commute', data.commute);

            // å¸Œæœ›æ¡ä»¶
            var condParts = [];
            if (data.work_days) {
                var daysMap = {
                    '1æ—¥': 'é€±1æ—¥', '2æ—¥': 'é€±2æ—¥', '3æ—¥': 'é€±3æ—¥',
                    '4æ—¥': 'é€±4æ—¥', '5æ—¥': 'é€±5æ—¥', 'å¿œç›¸è«‡': 'å¿œç›¸è«‡'
                };
                condParts.push('å‹¤å‹™æ—¥æ•°ï¼š' + (daysMap[data.work_days] || data.work_days));
            }
            if (data.work_hours) {
                condParts.push('å‹¤å‹™æ™‚é–“ï¼š' + data.work_hours);
            }
            if (data.desired_wage) {
                condParts.push('å¸Œæœ›æ™‚çµ¦ï¼š' + data.desired_wage);
            }
            if (data.start_date) {
                var sd = new Date(data.start_date);
                if (!isNaN(sd.getTime())) {
                    condParts.push('å‹¤å‹™é–‹å§‹å¯èƒ½æ—¥ï¼š' + sd.getFullYear() + 'å¹´' + (sd.getMonth() + 1) + 'æœˆ' + sd.getDate() + 'æ—¥');
                }
            }
            if (condParts.length > 0) {
                setField('resume-conditions', condParts.join('ã€€/ã€€'));
            }

            // ãƒãƒŠãƒ¼è¡¨ç¤º
            if (filled) {
                var banner = document.getElementById('autofillBanner');
                if (banner) {
                    banner.style.display = 'block';
                    setTimeout(function () {
                        banner.style.opacity = '0';
                        banner.style.transition = 'opacity 0.5s ease';
                        setTimeout(function () { banner.style.display = 'none'; }, 500);
                    }, 5000);
                }

                setTimeout(function () {
                    document.querySelectorAll('.autofilled').forEach(function (el) {
                        el.classList.remove('autofilled');
                    });
                }, 3000);
            }
        });
    </script>

</body>

</html>